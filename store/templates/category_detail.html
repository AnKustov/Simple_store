{% extends 'base.html' %}

{% block content %}
<html>
<head>
    <title>{{ category.name }} - Детали категории</title>
</head>
<body>
    <div class="row">
        <div class="col-lg-3">
            {% if category.image %}
                <img src="{{ category.image.url }}" alt="{{ category.name }} Image" class="img-fluid">
            {% endif %}
        </div>
        <div class="col-lg-9 text-center" >
            <h4 style="text-shadow: 0px 2px 2px rgba(0, 0, 0, 0.2);">{{ category.name }}</h4>
            <p>{{ category.description|safe }}</p>
        </div>
    </div>
  

    {% if products %}
    <h4 class="text-center">Товары в категории {{ category.name }}:</h4>

    <div class="row" style="margin-left: -50px; margin-right: -50px; background-color: #F5F5F5;">
        {% for product in products %}
            <div class="col-lg-2 col-md-4 col-6 mb-4 mt-5">
                {% include 'product_card.html' %}
            </div>
        {% endfor %}
    
        <div class="pagination-container d-flex justify-content-center">
            <nav aria-label="Страницы">
                <ul class="pagination">
                    {% if products.has_previous %}
                    <li class="page-item">
                        <a class="page-link text-custom-color" href="?page=1" aria-label="Первая страница"> << </a>
                    </li>
                    <li class="page-item">
                        <a class="page-link text-custom-color" href="?page={{ products.previous_page_number }}" aria-label="Предыдущая страница"> < </a>
                    </li>
                    {% endif %}

                    {% for page in products.paginator.page_range %}
                        <li class="page-item {% if page == products.number %}active{% endif %}">
                            <a class="page-link {% if page == products.number %}custom-active-page{% else %}text-custom-color {% endif %}" href="?page={{ page }}">{{ page }}</a>
                        </li>
                    {% endfor %}
                    
                    {% if products.has_next %}
                    <li class="page-item">
                        <a class="page-link text-custom-color" href="?page={{ products.next_page_number }}" aria-label="Следующая страница"> > </a>
                    </li>
                    <li class="page-item">
                        <a class="page-link text-custom-color" href="?page={{ products.paginator.num_pages }}" aria-label="Последняя страница"> >> </a>
                    </li>
                    {% endif %}
                </ul>
            </nav>
        </div>
    </div>
    {% else %}
        <h4 class="text-center">В данной категории товаров нет</h4>
    {% endif %}
    
    
</body>
</html>
{% endblock %}